(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),s=a.n(r),c=(a(77),a(4)),o=a(9),i=a(6),m=a(5),u=a(7),d=a(8),h=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement(d.b,{to:"/"},l.a.createElement("span",{className:"brand-logo"},"Bitbook")),l.a.createElement("ul",{id:"nav-mobile",className:"right"},l.a.createElement("li",null,l.a.createElement("li",null,l.a.createElement(d.b,{to:"/"},"Posts")),l.a.createElement("i",{className:"material-icons right"})),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/people"},"People")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/login"},"Logout"))))))},p=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("footer",null,l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement("p",{className:"center"},"Copyright \xa9 2M.App ",(new Date).getFullYear()," ")))))},E=a(29),f=function e(t,a,n,l,r,s,o,i,m,u,d,h,p){Object(c.a)(this,e),this.id=t,this.sid=a,this.email=n,this.createdAt=l,this.avatarUrl=r||"https://via.placeholder.com/300",this.aboutBio=s,this.aboutJob=o,this.aboutCountryCode=i,this.namePrefix=m,this.nameFirst=u,this.nameLast=d,this.noOfComments=h,this.noOfPosts=p},b="https://cors.io/?http://book-api-dev.hypetech.xyz",v={headers:{"content-type":"application/json","x-api-key":"B1tD3V"}},g=function(){return fetch("".concat(b,"/users"),{method:"GET",headers:{"content-type":"application/json","x-api-key":"B1tD3V"}}).then(function(e){return e.json()}).then(function(e){return console.log(e),e.map(function(e){var t=new Date(e.createdAt),a=t.getHours()+":"+t.getMinutes(),n=null==e.avatarUrl&void 0==e.avatarUrl?"https://via.placeholder.com/50":e.avatarUrl;return new f(e.id,e.sid,e.email,a,n,e.aboutBio,e.aboutJob,e.aboutCountryCode,e.name.prefix,e.name.first,e.name.last)})})},N=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"sk-cube-grid"},l.a.createElement("div",{className:"sk-cube sk-cube1"}),l.a.createElement("div",{className:"sk-cube sk-cube2"}),l.a.createElement("div",{className:"sk-cube sk-cube3"}),l.a.createElement("div",{className:"sk-cube sk-cube4"}),l.a.createElement("div",{className:"sk-cube sk-cube5"}),l.a.createElement("div",{className:"sk-cube sk-cube6"}),l.a.createElement("div",{className:"sk-cube sk-cube7"}),l.a.createElement("div",{className:"sk-cube sk-cube8"}),l.a.createElement("div",{className:"sk-cube sk-cube9"})))},y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value,n=a.state.allUsers.filter(function(e){return"".concat(e.nameFirst," ").concat(e.nameLast).includes(t)});a.setState({users:n})},a.state={users:null,allUsers:[],query:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;g().then(function(t){e.setState({allUsers:t,users:t})})}},{key:"render",value:function(){var e=this.state.users;return this.state.users?l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"center-align"},l.a.createElement("form",{className:"blue-grey lighten-5 z-depth-1"},l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{className:"search-people",id:"search",type:"search",placeholder:"Search",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"label-icon",for:"search"},l.a.createElement("i",{className:"material-icons"},"search")),l.a.createElement("i",{className:"material-icons"},"close"))),l.a.createElement("ul",{className:"collection z-depth-1"},e.map(function(e){return l.a.createElement("li",{key:e.id,className:"collection-item avatar"},l.a.createElement("img",{src:e.avatarUrl,alt:"Profile picture",className:"circle"}),l.a.createElement("div",{className:"people-title"},l.a.createElement(d.b,{to:"/profile/".concat(e.id)},l.a.createElement("h6",null,e.namePrefix," ",e.nameFirst," ",e.nameLast)),l.a.createElement("p",null,e.aboutBio)),l.a.createElement("div",{className:"people-time"},l.a.createElement("p",null,"Last post",l.a.createElement("br",null),"at ",e.createdAt)))})))):l.a.createElement(N,null)}}]),t}(l.a.Component),C=a(14),O=a(36),j=a.n(O),w=function(e){var t=e||2;return fetch("".concat(b,"/users/").concat(t,"?_embed[]=posts&_embed[]=comments"),{method:"GET",headers:{"content-type":"application/json","x-api-key":"B1tD3V"}}).then(function(e){return e.json()}).then(function(e){var t=e.comments.length,a=e.posts.length;return new f(e.id,e.sid,e.email,e.createdAt,e.avatarUrl,e.aboutBio,e.aboutJob,e.aboutCountryCode,e.name.prefix,e.name.first,e.name.last,t,a)})},k=a(12),S=a(33),P=a.n(S),F=a(13),x=a.n(F),I=a(71),D=a.n(I),L=a(34),B=a.n(L),U=a(27),T=a.n(U),A=(a(51),function(e,t){return fetch("".concat(b,"/users/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json","x-api-key":"B1tD3V"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){return e})}),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).editProfileInfo=function(e){e.preventDefault();var t=a.state.user,n={avatarUrl:t.avatarUrl,name:{prefix:t.namePrefix,first:t.nameFirst,last:t.nameLast},about:{job:t.aboutJob,bio:t.aboutBio,countryCode:t.aboutCountryCode}};t.nameFirst.length>0&&t.nameLast.length>0?A(t.id,n).then(function(e){window.location.reload()}).catch(function(e){console.log(e)}):alert("Please, fill required input")},a.changePrefixName=function(e){var t=a.state.user,n=Object(k.a)({},t,{namePrefix:e.target.value});a.setState({user:n})},a.changeFirstName=function(e){var t=a.state.user,n=Object(k.a)({},t,{nameFirst:e.target.value});a.setState({user:n})},a.changeLastName=function(e){var t=a.state.user,n=Object(k.a)({},t,{nameLast:e.target.value});a.setState({user:n})},a.changeAboutBio=function(e){var t=a.state.user,n=Object(k.a)({},t,{aboutBio:e.target.value});a.setState({user:n})},a.changeAboutJob=function(e){var t=a.state.user,n=Object(k.a)({},t,{aboutJob:e.target.value});a.setState({user:n})},a.changeAboutCountryCode=function(e){var t=a.state.user,n=Object(k.a)({},t,{aboutCountryCode:e.target.value});a.setState({user:n})},a.changeProfileImage=function(e){var t=a.state.user,n=Object(k.a)({},t,{avatarUrl:e.target.value});a.setState({user:n})},a.fileSelectedHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.state={show:e.show,user:e.user,handleClose:e.handleClose,handleShow:e.handleShow,getUser:e.getUser},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this.props.show,t=this.state.user,a=t.avatarUrl,n=t.namePrefix,r=t.nameFirst,s=t.nameLast,c=t.aboutBio,o=t.aboutJob,i=t.aboutCountryCode;return e?l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{show:e,onHide:this.props.handleClose},l.a.createElement(P.a.Header,{closeButton:!0},l.a.createElement(P.a.Title,null,"UPDATE PROFILE")),l.a.createElement(P.a.Body,null,l.a.createElement(x.a,null,l.a.createElement(x.a.Group,{controlId:"formGroupPicture"},l.a.createElement(B.a,null,l.a.createElement(T.a,{xs:6,md:4},l.a.createElement(D.a,{src:a,roundedCircle:!0}))),l.a.createElement(x.a.Control,{type:"url",placeholder:"Image URL",value:a,onChange:this.changeProfileImage})),l.a.createElement(x.a.Group,{controlId:"formGroupName"},l.a.createElement(B.a,null),l.a.createElement(B.a,null,l.a.createElement(T.a,null,l.a.createElement(x.a.Label,null,"Prefix"),l.a.createElement(x.a.Control,{type:"text",placeholder:"Prefix",value:n,name:n,onChange:this.changePrefixName})),l.a.createElement(T.a,null,l.a.createElement(x.a.Label,null,"First Name"),l.a.createElement(x.a.Control,{type:"text",placeholder:"First Name",value:r,name:r,onChange:this.changeFirstName,"data-length":"10"}),l.a.createElement("span",{className:"helper-text","data-error":"wrong","data-success":"right"},"* Required fill")),l.a.createElement(T.a,null,l.a.createElement(x.a.Label,null,"Last Name"),l.a.createElement(x.a.Control,{type:"text",placeholder:"Last Name",value:s,name:s,onChange:this.changeLastName}),l.a.createElement("span",{className:"helper-text","data-error":"wrong","data-success":"right"},"* Required fill")))),l.a.createElement(x.a.Group,{controlId:"formGroupName"},l.a.createElement(B.a,null,l.a.createElement(x.a.Label,null,"Description")),l.a.createElement(B.a,null,l.a.createElement(T.a,null,l.a.createElement(x.a.Label,null,"Bio"),l.a.createElement(x.a.Control,{placeholder:"Bio",value:c,name:c,onChange:this.changeAboutBio})),l.a.createElement(T.a,null,l.a.createElement(x.a.Label,null,"Job"),l.a.createElement(x.a.Control,{placeholder:"Job",value:o,name:o,onChange:this.changeAboutJob})),l.a.createElement(T.a,null,l.a.createElement(x.a.Label,null,"Country Code"),l.a.createElement(x.a.Control,{placeholder:"Country Code",value:i,name:i,onChange:this.changeAboutCountryCode})))))),l.a.createElement(P.a.Footer,null,l.a.createElement(j.a,{variant:"secondary",onClick:this.props.handleClose},"Close"),l.a.createElement(j.a,{variant:"primary",type:"submit",onClick:this.editProfileInfo},"Update")))):null}}]),t}(l.a.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getUser=function(){var e=a.props.match.params.userId;w(e).then(function(e){console.log(e),a.setState({user:e})})},a.handleShow=a.handleShow.bind(Object(C.a)(Object(C.a)(a))),a.handleClose=a.handleClose.bind(Object(C.a)(Object(C.a)(a))),a.state={show:!1,user:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){if(!this.state.user)return l.a.createElement(N,null);var e=this.state,t=e.user,a=e.show,n=t.id,r=t.avatarUrl,s=t.namePrefix,c=t.nameFirst,o=t.nameLast,i=t.aboutBio,m=t.aboutJob,u=t.aboutCountryCode;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{key:n,className:"container"},l.a.createElement("div",{className:"center-align"},l.a.createElement("div",{className:"profile-picture"},l.a.createElement("img",{src:r,className:"z-depth-2",alt:"Profile picture"})),l.a.createElement("div",{className:"profile-title"},l.a.createElement("h3",null,s," ",c," ",o),l.a.createElement(j.a,{variant:"primary",onClick:this.handleShow},"Edit profile"),l.a.createElement(J,{user:t,show:a,handleClose:this.handleClose,handleShow:this.handleShow,getUser:this.getUser})),l.a.createElement("div",{className:"profile-body"},l.a.createElement("p",null,l.a.createElement("span",null,"Bio: "),i,l.a.createElement("br",null),l.a.createElement("span",null,"Job: "),m,l.a.createElement("br",null),l.a.createElement("span",null,"Country Code: "),u,l.a.createElement("br",null))),l.a.createElement("div",{className:"profile-posts"},l.a.createElement("a",{className:"waves-effect waves-light btn-small"},this.state.user.noOfPosts," posts")),l.a.createElement("div",{className:"profile-comments"},l.a.createElement("a",{className:"waves-effect waves-light btn-small"},this.state.user.noOfComments," comments")))))}}]),t}(l.a.Component),V=function(e){var t=e.post,a=e.showComments,n=e.handleDeletePost;return l.a.createElement("div",{key:t.id,className:"row cardItem"},l.a.createElement("div",{className:"col s12 m6 l2"}),l.a.createElement("div",{className:"col s12 m8 12"},l.a.createElement("div",{className:"card grey"},l.a.createElement("div",{className:"card-content white-text"},l.a.createElement("button",{className:"secondary-content",value:t.id,onClick:n,type:"button"},"x"),l.a.createElement("iframe",{width:"420",height:"315",src:t.videoUrl})),a?l.a.createElement("div",null,l.a.createElement(d.b,{to:"/posts/".concat(t.id)},l.a.createElement("div",{className:"card-action"},l.a.createElement("span",null,"Video post")," ",l.a.createElement("span",{className:"commentsPost"},"Comments : ",t.comments.length," ")))):l.a.createElement("div",null))),l.a.createElement("div",{className:"col s12 m6 l2"}))},G=function(e){var t=e.post,a=e.showComments,n=e.handleDeletePost;return l.a.createElement("div",{key:t.id,className:"row cardItem"},l.a.createElement("div",{className:"col s12 m6 l2"}),l.a.createElement("div",{className:"col s12 m8 12"},l.a.createElement("div",{className:"card grey"},l.a.createElement("div",{className:"card-content white-text"},l.a.createElement("button",{className:"secondary-content",value:t.id,onClick:n,type:"button"},"x"),l.a.createElement("img",{src:t.imageUrl,alt:""})),a?l.a.createElement(d.b,{to:"/posts/".concat(t.id)},l.a.createElement("div",{className:"card-action"},l.a.createElement("span",null,"Image post")," ",l.a.createElement("span",{className:"commentsPost"}," Comments: ",t.comments.length," "))):l.a.createElement("div",null))),l.a.createElement("div",{className:"col s12 m6 l2"}))},R=function(e){var t=e.post,a=e.showComments,n=e.handleDeletePost;return l.a.createElement("div",{key:t.id,className:"row cardItem"},l.a.createElement("div",{className:"col s12 m6 l2"}),l.a.createElement("div",{className:"col s12 m8 12 "},l.a.createElement("div",{className:"card grey"},l.a.createElement("div",{className:"card-content white-text textPost"},l.a.createElement("button",{className:"secondary-content",value:t.id,onClick:n,type:"button"},"x"),l.a.createElement("p",null,t.text)),a?l.a.createElement("div",null,l.a.createElement(d.b,{to:"/posts/".concat(t.id)},l.a.createElement("div",{className:"card-action"},l.a.createElement("span",null,"Text post ")," ",l.a.createElement("span",{className:"commentsPost"}," Comments:",t.comments.length)))):l.a.createElement("div",null))),l.a.createElement("div",{className:"col s12 m6 l2"}))};var q=function(e){var t=e.posts,a=e.filter,n=e.handleDeletePost;return t.map(function(e){return function(e,t){return null===t||t===e}(e.type,a)?"video"===e.type?l.a.createElement(V,{key:e.id,post:e,showComments:!0,handleDeletePost:n}):"text"===e.type?l.a.createElement(R,{key:e.id,post:e,showComments:!0,handleDeletePost:n}):l.a.createElement(G,{key:e.id,post:e,showComments:!0,handleDeletePost:n}):l.a.createElement(l.a.Fragment,null)})},z=function e(t,a,n,l){Object(c.a)(this,e),this.id=t,this.userId=a,this.createdAt=n,this.type=l},H=function(e){function t(e,a,n,l,r,s){var o;return Object(c.a)(this,t),(o=Object(i.a)(this,Object(m.a)(t).call(this,e,a,n,l))).videoUrl=r,o.comments=s,o}return Object(u.a)(t,e),t}(z),_=function(e){function t(e,a,n,l,r,s){var o;return Object(c.a)(this,t),(o=Object(i.a)(this,Object(m.a)(t).call(this,e,a,n,l))).imageUrl=r,o.comments=s,o}return Object(u.a)(t,e),t}(z),W=function(e){function t(e,a,n,l,r,s){var o;return Object(c.a)(this,t),(o=Object(i.a)(this,Object(m.a)(t).call(this,e,a,n,l))).text=r,o.comments=s,o}return Object(u.a)(t,e),t}(z),Y=function(e){return"video"===e.type?new H(e.id,e.userId,e.createdAt,e.type,e.videoUrl,e.comments):"image"===e.type?new _(e.id,e.userId,e.createdAt,e.type,e.imageUrl,e.comments):new W(e.id,e.userId,e.createdAt,e.type,e.text,e.comments)},K=function(){return fetch("".concat(b,"/posts?_embed=comments"),Object(k.a)({method:"GET"},v)).then(function(e){return e.json()}).then(function(e){return e.map(function(e){return Y(e)})})},Q=function(e,t){return fetch("".concat(b,"/posts/").concat(e),Object(k.a)({method:"DELETE"},v)).then(t)},X=function(e){var t={type:"text",text:e,isPublic:!0};return fetch("".concat(b,"/posts"),Object(k.a)({method:"POST",body:JSON.stringify(t)},v))},Z=function(e){var t={type:"video",videoUrl:e,isPublic:!0};return fetch("".concat(b,"/posts"),Object(k.a)({method:"POST",body:JSON.stringify(t)},v))},$=function(e){var t={type:"image",imageUrl:e};return fetch("".concat(b,"/posts"),Object(k.a)({method:"POST",body:JSON.stringify(t)},v))},ee=a(15),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).createTextPost=function(e){e.preventDefault();var t=new FormData(e.target).get("postText");t.length>0?X(t).then(a.props.loadsPosts):a.setState({error:"Nije moguce kreirati prazan post, unesite neki text."})},a.state={error:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=l.a.createElement(l.a.Fragment,null);return null!==this.state.error&&(e=l.a.createElement("span",null,this.state.error)),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:this.createTextPost},l.a.createElement("input",{name:"postText",type:"text",placeholder:"create text post"}),e,l.a.createElement(ee.Button,{type:"submit"},"Send")))}}]),t}(l.a.Component),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).createVideoPost=function(e){e.preventDefault();var t=new FormData(e.target).get("postVideo");t.startsWith("https://www.youtube.com")?(a.setState({error:null}),t=t.replace("/watch?v=","/embed/"),Z(t).then(a.props.loadsPosts)):a.setState({error:"Unesite video sa youtube-a"})},a.state={error:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=l.a.createElement(l.a.Fragment,null);return null!==this.state.error&&(e=l.a.createElement("span",null,this.state.error)),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:this.createVideoPost},l.a.createElement("input",{name:"postVideo",type:"url",placeholder:"create video post"}),e,l.a.createElement(ee.Button,{type:"submit"},"Send")))}}]),t}(l.a.Component),ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).createImagePost=function(e){e.preventDefault();var t=new FormData(e.target).get("postImage");t.length>0?$(t).then(a.props.loadsPosts):a.setState({error:"Nije moguce kreirati prazan post, unesite url za sliku."})},a.state={error:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=l.a.createElement(l.a.Fragment,null);return null!==this.state.error&&(e=l.a.createElement("span",null,this.state.error)),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:this.createImagePost},l.a.createElement("input",{name:"postImage",type:"url",placeholder:"create image post"}),e,l.a.createElement(ee.Button,{type:"submit"},"Send")))}}]),t}(l.a.Component),le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).loadsPosts=function(){K().then(function(e){a.setState({posts:e})})},a.handleDeletePost=function(e,t){t=e.target.value,Q(t,a.loadsPosts)},a.filterFeed=function(e){e.target.text.toLowerCase()!==a.state.filter?a.setState({filter:e.target.text.toLowerCase()}):a.setState({filter:null}),e.preventDefault()},a.state={posts:null,filter:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadsPosts()}},{key:"render",value:function(){return this.state.posts?l.a.createElement(l.a.Fragment,null,l.a.createElement(ee.Dropdown,{className:"nav-wrapper",trigger:l.a.createElement(ee.Button,null,"Posts")},l.a.createElement("a",{href:"#",onClick:this.filterFeed},"Text"),l.a.createElement("a",{href:"#",onClick:this.filterFeed},"Image"),l.a.createElement("a",{href:"#",onClick:this.filterFeed},"Video")),l.a.createElement(ee.Dropdown,{className:"nav-wrapper",trigger:l.a.createElement(ee.Button,null,"+")},l.a.createElement(ee.Modal,{header:"Create text post",trigger:l.a.createElement(ee.Button,null,"Text"),options:{preventScrolling:!1}},l.a.createElement(te,{loadsPosts:this.loadsPosts})),l.a.createElement(ee.Modal,{header:"Create video post",trigger:l.a.createElement(ee.Button,null,"Video"),options:{preventScrolling:!1}},l.a.createElement(ae,{loadsPosts:this.loadsPosts})),l.a.createElement(ee.Modal,{header:"Create image post",trigger:l.a.createElement(ee.Button,null,"Image"),options:{preventScrolling:!1}},l.a.createElement(ne,{loadsPosts:this.loadsPosts}))),l.a.createElement(q,{posts:this.state.posts,filter:this.state.filter,handleDeletePost:this.handleDeletePost})):l.a.createElement(N,null)}}]),t}(l.a.Component),re=function e(t,a,n,l,r){Object(c.a)(this,e),this.commentId=t,this.postId=a,this.userId=n,this.body=l,this.userName=r.name.first,this.userAvatar=r.avatarUrl},se=function(e){return fetch("".concat(b,"/comments?postId=").concat(e,"&_expand=user"),Object(k.a)({method:"GET"},v)).then(function(e){return e.json()}).then(function(e){return console.log(e),e.filter(function(e){return e.user}).map(function(e){return new re(e.id,e.postId,e.userId,e.body,e.user)}).reverse()})},ce=function(e,t){var a={sid:Math.floor(1e5*Math.random()),postId:e,userId:2,body:t};return fetch("".concat(b,"/comments"),Object(k.a)({method:"POST",body:JSON.stringify(a)},v))},oe=function(e,t){return fetch("".concat(b,"/comments/").concat(e),Object(k.a)({method:"DELETE"},v)).then(t)},ie=function(e){var t=e.comments,a=e.handleDelete;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("ul",{className:"collection z-depth-1"},t.map(function(e){return l.a.createElement("li",{key:e.commentId,className:"collection-item avatar"},l.a.createElement("img",{src:e.userAvatar,alt:"",className:"circle"}),l.a.createElement("div",{className:"people-title"},l.a.createElement("span",{className:"title"},e.userName),l.a.createElement("p",null,e.body),l.a.createElement("button",{className:"secondary-content",value:e.commentId,type:"button",onClick:a},"x")))}))))},me=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).loadsComments=function(){var e=a.props.match.params.id;se(e).then(function(e){a.setState({comments:e})})},a.handleDelete=function(e,t){t=e.target.value,oe(t,a.loadsComments)},a.handleOnChange=function(e){a.setState({commentInput:e.target.value})},a.onCommentSubmit=function(e){if(e.preventDefault(),0!==a.state.commentInput.length){var t=a.props.match.params.id;return ce(t,a.state.commentInput).then(function(){a.loadsComments(t)}).then(function(){a.setState({commentInput:""})})}alert("Enter comment!")},a.state={post:{},comments:[],commentInput:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params.id;(e=a,fetch("".concat(b,"/posts/").concat(e),Object(k.a)({method:"GET"},v)).then(function(e){return e.json()}).then(function(e){return Y(e)})).then(function(e){t.setState({post:e})}),this.loadsComments()}},{key:"renderPostComponent",value:function(e){return"video"===e.type?l.a.createElement(V,{post:this.state.post,showComments:!1}):"text"===e.type?l.a.createElement(R,{post:this.state.post,showComments:!1}):l.a.createElement(G,{post:this.state.post,showComments:!1})}},{key:"render",value:function(){return l.a.createElement("div",null,this.renderPostComponent(this.state.post),l.a.createElement("form",{onSubmit:this.onCommentSubmit,className:"container"},l.a.createElement("div",null,l.a.createElement("input",{id:"newCommentInput",onChange:this.handleOnChange,value:this.state.commentInput,type:"text",placeholder:"Add your comment"}),l.a.createElement("button",{type:"submit"},"Send"))),l.a.createElement(ie,{comments:this.state.comments,handleDelete:this.handleDelete}))}}]),t}(l.a.Component),ue=a(31),de=function(e){var t={name:e.name,email:e.email,password:e.password};return fetch("".concat(b,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"B1tD3V"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){var t=e.accessToken;localStorage.setItem("id",t)})},he=(a(46),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getResponse=function(){de(a.state).then(function(e){}).catch(function(e){console.log(e)})},a.validateFullName=function(e){return e?e.length<3?"Min length is 3!":null:"Full name is required!"},a.validatePassword=function(e){return e?e.length<6?"Password must be at least 6 characters long":null:"Password is required!"},a.validateEmail=function(e){return e?e.includes("@")?null:"Email is not valid":"E-mail is required!"},a.state={id:"",name:"",email:"",password:"",errorMsg:""},a.handleChange=a.handleChange.bind(Object(C.a)(Object(C.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(C.a)(Object(C.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(ue.a)({},n,a))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.validateFullName().valid&&!this.validatePassword().valid&&!this.validateEmail().valid)return this.getResponse()}},{key:"render",value:function(){var e=this.validateFullName(),t=this.validatePassword(),a=this.validateEmail();return l.a.createElement("div",{className:"formCenter"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"formFields"},l.a.createElement("div",{className:"formField"},l.a.createElement("label",{className:"formFieldLabel",htmlFor:"name"},"Full Name"),l.a.createElement("input",{type:"text",id:"name",className:"formFieldInput",placeholder:"Enter your full name",name:"name",value:this.state.name,onChange:this.handleChange,error:e,autoComplete:"off"}),l.a.createElement("span",{className:"helper-text","data-error":e||""},e||"")),l.a.createElement("div",{className:"formField"},l.a.createElement("label",{className:"formFieldLabel",htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",className:"formFieldInput",placeholder:"Enter your password",name:"password",value:this.state.password,onChange:this.handleChange,error:t,autoComplete:"off"}),l.a.createElement("span",{className:"helper-text","data-error":t||""},t||""),l.a.createElement("div",{className:"formField"}),l.a.createElement("label",{className:"formFieldLabel",htmlFor:"email"},"E-Mail Address"),l.a.createElement("input",{type:"email",id:"email",className:"formFieldInput",placeholder:"Enter your email",name:"email",value:this.state.email,onChange:this.handleChange,error:a,autoComplete:"off"}),l.a.createElement("span",{className:"helper-text","data-error":a||""},a||"")),l.a.createElement("div",{className:"formField"},l.a.createElement("button",{className:"formFieldButton mr-20",type:"submit",onClick:this.getResponse},"Register"),l.a.createElement(d.b,{to:"/login",className:"FormFieldLink"},"I'm already member"))))}}]),t}(n.Component)),pe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:""},a.handleChange=a.handleChange.bind(Object(C.a)(Object(C.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(C.a)(Object(C.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(ue.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){return l.a.createElement("div",{className:"formCenter"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"formFields"},l.a.createElement("div",{className:"formField"},l.a.createElement("label",{className:"formFieldLabel",htmlFor:"email"},"E-Mail Address"),l.a.createElement("input",{type:"email",id:"email",className:"formFieldInput",placeholder:"Enter your email",name:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement("div",{className:"formField"},l.a.createElement("label",{className:"formFieldLabel",htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",className:"formFieldInput",placeholder:"Enter your password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("div",{className:"formField"},l.a.createElement("button",{className:"formFieldButton"},l.a.createElement(d.b,{to:"/"},"Login"))," ")))}}]),t}(n.Component),Ee=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"appAside"},l.a.createElement("h2",null,"BitBook"),l.a.createElement("p",null,"BitBook is a simple Social Media Application.",l.a.createElement("br",null),l.a.createElement("br",null),"It is currently open for easy viewing of content, so please just click on Login to enter.")),l.a.createElement("div",{className:"appForm"},l.a.createElement("div",{className:"pageSwitcher"},l.a.createElement(d.c,{to:"/login",activeClassName:"pageSwitcherItem--Active",className:"pageSwitcherItem"},"Login"),l.a.createElement(d.c,{to:"/register",activeClassName:"pageSwitcherItem--Active",className:"pageSwitcherItem"},"Register")),l.a.createElement("div",{className:"formTitle"},l.a.createElement(d.c,{to:"/login",activeClassName:"formTitleLink--Active",className:"formTitleLink"},"Login")," ","or"," ",l.a.createElement(d.c,{to:"/register",activeClassName:"formTitleLink--Active",className:"formTitleLink"},"Register")),l.a.createElement(E.a,{path:"/register",component:he}),l.a.createElement(E.a,{path:"/login",component:pe}))))}}]),t}(n.Component),fe=function(){return l.a.createElement(E.c,null,l.a.createElement(E.a,{path:"/login",component:Ee}),l.a.createElement(E.a,{path:"/register",component:Ee}),l.a.createElement(E.a,{path:"/profile/:userId",component:M}),l.a.createElement(E.a,{path:"/profile",component:M}),l.a.createElement(E.a,{path:"/people",component:y}),l.a.createElement(E.a,{path:"/posts/:id",component:me}),l.a.createElement(E.a,{path:"/",component:le}))},be=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(h,null),l.a.createElement(fe,null),l.a.createElement(p,null))}}]),t}(n.Component);s.a.render(l.a.createElement(d.a,null,l.a.createElement(be,null)),document.getElementById("root"))},46:function(e,t,a){},51:function(e,t,a){},72:function(e,t,a){e.exports=a(176)},77:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.8b33f947.chunk.js.map